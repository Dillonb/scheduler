{% extends "scheduler/base.html" %}
{% block title %}{{ schedule.creator.username }}'s Schedule{% endblock %}
{% block head %}
<style type="text/css">
.week {
    list-style-type:none;
}
.daycontainer {

    width:200px;
    height:1220px;
    margin-left: 4px;
    margin-right: 4px;
    float:left;
    background-image: url("http://199.195.251.194/~dillon/tiledaybg.png");
    background-attachment:scroll;
    background-position: 0px 20px;
    border-style: none solid none solid;
    border-width:1px;
}
li.timelegend {
    width: 50px;
    height: 1220px;
    float:left;
}
ul.timelegend {
    list-style-type:none;
    width:50px;
    margin-left: -40px;
}
.day {
    list-style-type:none;
    margin-left: -40px;
}
.header {
    top:0px;
    height:20px;
    background-color:rgb(51,51,51);
    color:white;
}
ul.timelegend .header {
    width:50px;
    background-color:white;
    border-bottom-style:solid;
    border-bottom-color:black;
    border-bottom-width:2px;
}
.event {
    background-color:rgba(0,0,0,0.75);
    color:white;
    position:absolute;
    width:199px;
    overflow:auto;
}
.event a {
    position:absolute;
    color:white;
    text-decoration:none;
    top:0px;
    right:0px;
    bottom:0px;
    left:0px;
}
event a:hover {
    color:white;
    text-decoration:none;
}
li.timeblock {
    height: 50px;
    width: 50px;
    border-bottom-style: solid;
    border-bottom-width: 2px;
}
body .body {
    width: 1600px;
}
</style>
{% endblock %}

{% block body %}
{% if comparing %}
Comparing two schedules.
{% else %}
    <p>{{ schedule.name }}</p>
    {% if isowner %}
    <p>Click on an event to edit it.</p>
    <p>
        <a href="/createevent/{{ schedule.id }}">Create event on this schedule</a>
        | <a href="/editschedule/{{ schedule.id }}">Edit this schedule</a>
        {% if ismainschedule %}
        | This is your main schedule.
        {% else %}
        | <a href="/setmainschedule/{{ schedule.id }}">Set as main schedule</a>
        {% endif %}
    </p>
    {% endif %}
    <p>
        <a href="/schedule/{{ schedule.id }}/{{ starttime|add:"-604800" }}">Previous Week</a>
        | <a href="/schedule/{{ schedule.id }}/">This Week</a>
        | <a href="/schedule/{{ schedule.id }}/{{ starttime|add:"604800" }}">Next Week</a>
        </p>
{% endif %}
<ul class="week">
    <li class="timelegend">
        <ul class="timelegend">
            <li class="header">asdf</li>
            <li class="timeblock">0:00</li>
            <li class="timeblock">1:00</li>
            <li class="timeblock">2:00</li>
            <li class="timeblock">3:00</li>
            <li class="timeblock">4:00</li>
            <li class="timeblock">5:00</li>
            <li class="timeblock">6:00</li>
            <li class="timeblock">7:00</li>
            <li class="timeblock">8:00</li>
            <li class="timeblock">9:00</li>
            <li class="timeblock">10:00</li>
            <li class="timeblock">11:00</li>
            <li class="timeblock">12:00</li>
            <li class="timeblock">13:00</li>
            <li class="timeblock">14:00</li>
            <li class="timeblock">15:00</li>
            <li class="timeblock">16:00</li>
            <li class="timeblock">17:00</li>
            <li class="timeblock">18:00</li>
            <li class="timeblock">19:00</li>
            <li class="timeblock">20:00</li>
            <li class="timeblock">21:00</li>
            <li class="timeblock">22:00</li>
            <li class="timeblock">23:00</li>
        </ul>
    </li>
    {% for day, dayevents in events %}
        <li class="daycontainer">
            <ul class="day">
                <li class="header"> {{ day.date }} </li>
                {% for event in dayevents %}
                    <li class="event" style="margin-top: {{ event.from_top }}px; height: {{ event.height }}px;">
                    {% if isowner %}
                        <a href="/editevent/{{ event.id }}">
                    {% endif %}
                            {{ event.name }}
                            {{ event.start_time }} - {{ event.end_time }}
                    {% if isowner %}
                        </a>
                    {% endif %}
                    </li>
                {% endfor %}
            </ul>
        </li>
    {% endfor %}
</ul>
{% endblock %}
